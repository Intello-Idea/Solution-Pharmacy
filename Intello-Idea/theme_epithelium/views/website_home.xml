<?xml version="1.0" encoding="utf-8" ?>
<odoo>
    <template id="home_page_ep" name="Inicio" inherit_id="website.homepage" active="True">
        <data inherit_id="website.homepage">
            <xpath expr="//div[@id='wrap']" position="replace">
                <!-- slider_area_start -->
                <div id="demo" class="carousel slide" data-ride="carousel">

                    <!-- Indicators -->
                    <ul class="carousel-indicators list-inline d-flex justify-content-center align-items-center">
                        <li data-target="#demo" data-slide-to="0" class="active"></li>
                        <li data-target="#demo" data-slide-to="1"></li>
                        <li data-target="#demo" data-slide-to="2"></li>
                    </ul>

                    <!-- The slideshow -->
                    <div class="carousel-inner">
                        <div class="carousel-item active">
                            <div class="img-slider-1" style="width: 100%"/>
                            <div class="carousel-caption d-flex h-100 align-items-center justify-content-start">
                                <div class="text-left">
                                    <h1>Productos</h1>
                                    <h2>Dermocosméticos</h2>
                                    <p>PARA EL CUIDADO DE LA SALUD Y LA BELLEZA</p>
                                </div>
                            </div>
                        </div>
                        <div class="carousel-item">
                            <div class="img-slider-2" style="width: 100%"/>
                            <div class="carousel-caption d-flex h-100 align-items-center justify-content-start">
                                <div class="text-left">
                                    <h1>Productos</h1>
                                    <h2>Dermocosméticos</h2>
                                    <p>PARA EL CUIDADO DE LA SALUD Y LA BELLEZA</p>
                                </div>
                            </div>
                        </div>
                        <div class="carousel-item">
                            <div class="img-slider-3" style="width: 100%"/>
                            <div class="carousel-caption d-flex h-100 align-items-center justify-content-start">
                                <div class="text-left">
                                    <h1>Productos</h1>
                                    <h2>Dermocosméticos</h2>
                                    <p>PARA EL CUIDADO DE LA SALUD Y LA BELLEZA</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- Left and right controls -->
                    <a class="carousel-control-prev" href="#demo" data-slide="prev">
                        <span class="carousel-control-prev-icon"></span>
                    </a>
                    <a class="carousel-control-next" href="#demo" data-slide="next">
                        <span class="carousel-control-next-icon"></span>
                    </a>
                    <a class="carousel-control-next" href="#demo" data-slide="next">
                        <span class="carousel-control-next-icon"></span>
                    </a>
                </div>

                <!-- slider_area_end -->
                <div class="">
                    <div id="" class="" data-ride="">
                        <div class="carousel-inner w-100" role="listbox">
                            <div class="carousel-item row no-gutters active">
                                <div class="col-3 float-left">
                                    <img class="img-fluid"
                                         src="/theme_epithelium/static/src/img/dinamic/carrusel/carrusel1.png"/>
                                </div>
                                <div class="col-3 float-left">
                                    <img class="img-fluid"
                                         src="/theme_epithelium/static/src/img/dinamic/carrusel/carrusel2.png"/>
                                </div>
                                <div class="col-3 float-left">
                                    <img class="img-fluid"
                                         src="/theme_epithelium/static/src/img/dinamic/carrusel/carrusel3.png"/>
                                </div>
                                <div class="col-3 float-left">
                                    <img class="img-fluid"
                                         src="/theme_epithelium/static/src/img/dinamic/carrusel/carrusel1.png"/>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>


                <!-- section categories -->
                <div class="section-categories" id="section-categories">
                    <div class="container-fluid">
                        <div class="row align-items-center justify-content-center">
                            <div class="col-xl-5 col-lg-5 col-sm-5">
                                <div class="pse_image">
                                    <a href="/purchases">
                                        <img src="/theme_epithelium/static/src/img/botones/pse-icon.png"
                                             class="rounded mx-auto d-block img-fluid" alt=""/>
                                    </a>
                                </div>
                            </div>
                            <div class="col-xl-6 col-lg-6 col-sm-6">
                                <div class="categories">

                                    <t t-foreach="list_categories" t-as="categories">
                                        <t t-if="len(categories) == 3">
                                            <div class="row align-items-center justify-content-center">
                                                <t t-foreach="categories" t-as="categ">
                                                    <div class="col-xl-4 col-lg-4 col-sm-auto">
                                                        <a t-attf-href="/category/id={{categ['id']}}">
                                                            <img t-if="categ['icon']"
                                                                 t-att-src="'data:image/png;base64,%s' % to_text(categ['icon'])"
                                                                 class="rounded mx-auto d-block img-fluid"
                                                            />
                                                            <h6>
                                                                <t t-esc="categ['name']"/>
                                                            </h6>
                                                        </a>
                                                    </div>
                                                </t>
                                            </div>
                                        </t>

                                        <t t-if="len(categories) == 2">
                                            <div class="row align-items-center justify-content-center">
                                                <t t-foreach="categories" t-as="categ">
                                                    <div class="col-xl-4 col-lg-4 col-sm-auto">
                                                        <a t-attf-href="/category/id={{categ['id']}}">
                                                            <img t-if="categ['icon']"
                                                                 t-att-src="'data:image/png;base64,%s' % to_text(categ['icon'])"
                                                                 class="rounded mx-auto d-block img-fluid"
                                                            />
                                                            <h6>
                                                                <t t-esc="categ['name']"/>
                                                            </h6>
                                                        </a>
                                                    </div>
                                                </t>
                                            </div>
                                        </t>

                                        <t t-if="len(categories) == 1">
                                            <div class="row">
                                                <div class="col-xl-4 col-lg-4 col-sm-4"/>
                                                <t t-foreach="categories" t-as="categ">
                                                    <div class="col-xl-4 col-lg-4 col-sm-1">
                                                        <a t-attf-href="/category/id={{categ['id']}}">
                                                            <img t-if="categ['icon']"
                                                                 t-att-src="'data:image/png;base64,%s' % to_text(categ['icon'])"
                                                                 class="rounded mx-auto d-block img-fluid"
                                                            />
                                                            <h6>
                                                                <t t-esc="categ['name']"/>
                                                            </h6>
                                                        </a>
                                                    </div>
                                                </t>
                                                <div class="col-xl-4 col-lg-4 col-sm-4"/>
                                            </div>
                                        </t>
                                    </t>

                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- section categories end -->
                <!--/ section-map-->
                <div class="section-map" id="section-map">
                    <div class="container-fluid">
                        <div class="row" style="flex-flow: wrap-reverse;">
                            <div class="col-lg-8 mt-3" style="height:100%">
                                <div id="map-container-google-1" class="z-depth-1-half map-container">
                                    <div id="map"></div>
                                </div>
                            </div>
                            <div class="col-lg-4 mt-3">
                                <div class="row">
                                    <div class="col-lg-12">
                                        <div class="title-back-border">
                                            <div class="title-front">
                                                <h1>Ubicación</h1>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-lg-12 mt-2">
                                        <div class="content-back-border-filter">
                                            <div class="content-front">
                                                <t t-set="locationsE"
                                                   t-value="request.env['location.city.epithelium'].sudo().search([])"/>
                                                <select class="browser-default custom-select"
                                                        onchange="valueSelectFilterMap()"
                                                        id="selectFilter">
                                                    <option value="0">
                                                        Sin filtro
                                                    </option>
                                                    <t t-foreach="locationsE"
                                                       t-as="location">
                                                        <option t-attf-value="{{location.id}}">
                                                            <t t-esc="location.name"></t>
                                                        </option>
                                                    </t>
                                                </select>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-lg-12 mt-2">
                                        <div class="content-back-border">
                                            <div class="content-front">
                                                <div id="list-group" class="list-group">
                                                    <div id="valueFilter"
                                                         style=" position: absolute; visibility: collapse;">
                                                        <t t-esc="filter_map"></t>
                                                    </div>
                                                    <t t-foreach="locations" t-as="loc">
                                                        <t t-if="filter_map == 0">
                                                            <a t-attf-id="loc_{{loc['id']}}" t-attf-lat="{{loc['lat']}}"
                                                               t-attf-lng="{{loc['lng']}}"
                                                               t-attf-onclick="locationMap({{loc['lat']}},{{loc['lng']}});"
                                                               class="list-group-item list-group-item-action">
                                                                <div class="d-flex w-100 justify-content-between">
                                                                    <h5 class="mb-1">
                                                                        <t t-esc="loc['name']"/>
                                                                    </h5>
                                                                </div>
                                                                <p class="mb-1">
                                                                    <t t-esc="loc['address']"/>
                                                                </p>
                                                                <small>
                                                                    <t t-esc="loc['city']"/>
                                                                </small>
                                                                <br/>
                                                                <small>
                                                                    <t t-esc="loc['shedule']"/>
                                                                </small>
                                                            </a>
                                                        </t>
                                                        <t t-if="loc['id_city'] == filter_map">
                                                            <a t-attf-lat="{{loc['lat']}}" t-attf-lng="{{loc['lng']}}"
                                                               t-attf-onclick="locationMap({{loc['lat']}},{{loc['lng']}});"
                                                               class="list-group-item list-group-item-action">
                                                                <div class="d-flex w-100 justify-content-between">
                                                                    <h5 class="mb-1">
                                                                        <t t-esc="loc['name']"/>
                                                                    </h5>
                                                                </div>
                                                                <small>
                                                                    <t t-esc="loc['city']"/>
                                                                </small>
                                                                <br/>
                                                                <p class="mb-1">
                                                                    <t t-esc="loc['address']"/>
                                                                </p>
                                                                <small>
                                                                    <t t-esc="loc['shedule']"/>
                                                                </small>
                                                            </a>
                                                        </t>
                                                    </t>

                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!--section-map -->

                <script async="True" defer="True"
                        t-attf-src="https://maps.googleapis.com/maps/api/js?key=#{google_key}&amp;callback=initMap">
                </script>
            </xpath>
        </data>
    </template>
</odoo>